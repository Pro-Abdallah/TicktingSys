{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,oQAAO,EAAC,IAAA,8NAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,kRAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,4UAAI,GAAG;IAE9B,qBACE,8YAAC;QACC,aAAU;QACV,WAAW,IAAA,kJAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8YAAC;QACC,aAAU;QACV,WAAW,IAAA,kJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8YAAC;QACC,aAAU;QACV,WAAW,IAAA,kJAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8YAAC;QACC,aAAU;QACV,WAAW,IAAA,kJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8YAAC;QACC,aAAU;QACV,WAAW,IAAA,kJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8YAAC;QACC,aAAU;QACV,WAAW,IAAA,kJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8YAAC;QACC,aAAU;QACV,WAAW,IAAA,kJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8YAAC;QACC,aAAU;QACV,WAAW,IAAA,kJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,kRAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,4UAAI,GAAG;IAE9B,qBACE,8YAAC;QACC,aAAU;QACV,WAAW,IAAA,kJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/lib/notification.ts"],"sourcesContent":["let hasPermission = false\n\n// Sync local permission flag when the module loads (client-only).\nif (typeof window !== \"undefined\" && \"Notification\" in window && Notification.permission === \"granted\") {\n  hasPermission = true\n}\n\nexport async function requestNotificationPermission(): Promise<boolean> {\n  if (!(\"Notification\" in window)) {\n    console.log(\"Notifications not supported\")\n    return false\n  }\n\n  if (Notification.permission === \"granted\") {\n    hasPermission = true\n    return true\n  }\n\n  if (Notification.permission !== \"denied\") {\n    const permission = await Notification.requestPermission()\n    hasPermission = permission === \"granted\"\n    return hasPermission\n  }\n\n  return false\n}\n\nexport function playNotificationSound() {\n  try {\n    const audio = new Audio(\"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Drop-FSmLRaqnjZtAQAT3HBHH2wK3CenCVz.mp3\")\n    audio.volume = 0.6\n    audio.play().catch((err) => console.log(\"Audio play failed:\", err))\n  } catch (error) {\n    console.log(\"Audio error:\", error)\n  }\n}\n\nexport function showNotification(title: string, body: string) {\n  if (!(\"Notification\" in window)) {\n    console.log(\"Notifications not supported\")\n    return\n  }\n\n  const permissionGranted = Notification.permission === \"granted\" || hasPermission\n  if (!permissionGranted) {\n    console.log(\"No notification permission\")\n    return\n  }\n\n  try {\n    hasPermission = true\n    const notification = new Notification(title, {\n      body,\n      icon: \"/favicon.ico\",\n      badge: \"/favicon.ico\",\n      tag: \"ticket-notification\",\n      requireInteraction: false,\n    })\n\n    // Play sound\n    playNotificationSound()\n\n    // Auto-close after 5 seconds\n    setTimeout(() => notification.close(), 5000)\n  } catch (error) {\n    console.log(\"Notification error:\", error)\n  }\n}\n"],"names":[],"mappings":";;;;;;;;AAAA,IAAI,gBAAgB;AAEpB,kEAAkE;AAClE,IAAI,kDAAkB,eAAe,kBAAkB,UAAU,aAAa,UAAU,KAAK,WAAW;IACtG,gBAAgB;AAClB;AAEO,eAAe;IACpB,IAAI,CAAC,CAAC,kBAAkB,MAAM,GAAG;QAC/B,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT;IAEA,IAAI,aAAa,UAAU,KAAK,WAAW;QACzC,gBAAgB;QAChB,OAAO;IACT;IAEA,IAAI,aAAa,UAAU,KAAK,UAAU;QACxC,MAAM,aAAa,MAAM,aAAa,iBAAiB;QACvD,gBAAgB,eAAe;QAC/B,OAAO;IACT;IAEA,OAAO;AACT;AAEO,SAAS;IACd,IAAI;QACF,MAAM,QAAQ,IAAI,MAAM;QACxB,MAAM,MAAM,GAAG;QACf,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,MAAQ,QAAQ,GAAG,CAAC,sBAAsB;IAChE,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC,gBAAgB;IAC9B;AACF;AAEO,SAAS,iBAAiB,KAAa,EAAE,IAAY;IAC1D,IAAI,CAAC,CAAC,kBAAkB,MAAM,GAAG;QAC/B,QAAQ,GAAG,CAAC;QACZ;IACF;IAEA,MAAM,oBAAoB,aAAa,UAAU,KAAK,aAAa;IACnE,IAAI,CAAC,mBAAmB;QACtB,QAAQ,GAAG,CAAC;QACZ;IACF;IAEA,IAAI;QACF,gBAAgB;QAChB,MAAM,eAAe,IAAI,aAAa,OAAO;YAC3C;YACA,MAAM;YACN,OAAO;YACP,KAAK;YACL,oBAAoB;QACtB;QAEA,aAAa;QACb;QAEA,6BAA6B;QAC7B,WAAW,IAAM,aAAa,KAAK,IAAI;IACzC,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC,uBAAuB;IACrC;AACF"}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/lib/ticket-data.ts"],"sourcesContent":["import type { Ticket } from \"./types\"\nimport { showNotification } from \"./notification\"\n\nlet mockTickets: Ticket[] = []\n\n// Use stable timestamps to avoid SSR/CSR hydration mismatches.\nconst DEFAULT_CREATED_AT = new Date(\"2024-11-14T00:00:00Z\")\nconst ONE_HOUR_MS = 60 * 60 * 1000\n\nconst initializeTickets = () => {\n  if (typeof window === \"undefined\") {\n    return\n  }\n\n  const stored = localStorage.getItem(\"tickets\")\n  if (stored) {\n    try {\n      const parsed = JSON.parse(stored)\n      mockTickets = parsed.map((t: any) => ({\n        ...t,\n        createdAt: new Date(t.createdAt),\n        updatedAt: new Date(t.updatedAt),\n      }))\n      mockTickets.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n      return\n    } catch (e) {\n      console.error(\"Error parsing stored tickets:\", e)\n    }\n  }\n\n  // Default mock data only if no localStorage (client-side only)\n  mockTickets = [\n    {\n      id: \"TKT-001\",\n      studentId: \"STU-001\",\n      studentName: \"Alex Johnson\",\n      studentEmail: \"alex.johnson@school.edu\",\n      department: \"IS\",\n      year: \"senior\",\n      classYear: \"Senior 1\",\n      instructorName: \"Mr. Smith\",\n      deviceType: \"HP Zbook G3\",\n      deviceIpAddress: \"192.168.1.100\",\n      issueDescription: \"Laptop won't turn on, screen stays black\",\n      issueType: \"hardware\",\n      issueCategory: \"hardware\",\n      status: \"assigned\",\n      createdAt: new Date(DEFAULT_CREATED_AT.getTime() - ONE_HOUR_MS),\n      updatedAt: new Date(\"2024-11-13T00:00:00Z\"),\n      estimatedRepairTime: \"2-3 days\",\n      priority: \"high\",\n      notes: \"Device sent for external repair\",\n      internalNotes: \"Likely battery issue or logic board failure\",\n      isExternal: true,\n      externalRepairCompany: \"TechRepair Solutions\",\n      externalTrackingNumber: \"EXT-2024-11-001\",\n    },\n    {\n      id: \"TKT-002\",\n      studentId: \"STU-002\",\n      studentName: \"Sarah Chen\",\n      studentEmail: \"sarah.chen@school.edu\",\n      department: \"CS\",\n      year: \"wheeler\",\n      classYear: \"Wheeler 2\",\n      instructorName: \"Ms. Johnson\",\n      deviceType: \"Dell Latitude\",\n      deviceIpAddress: \"192.168.1.101\",\n      issueDescription: \"Wi-Fi not connecting to network\",\n      issueType: \"software\",\n      issueCategory: \"software\",\n      status: \"in-progress\",\n      createdAt: new Date(\"2024-11-13T00:00:00Z\"),\n      updatedAt: new Date(\"2024-11-14T00:00:00Z\"),\n      estimatedRepairTime: \"1 day\",\n      priority: \"medium\",\n      notes: \"Network driver update in progress\",\n      internalNotes: \"Driver reinstall in progress\",\n      isExternal: false,\n    },\n    {\n      id: \"TKT-003\",\n      studentId: \"STU-003\",\n      studentName: \"Marcus Lee\",\n      studentEmail: \"marcus.lee@school.edu\",\n      department: \"IS\",\n      year: \"junior\",\n      classYear: \"Junior 3\",\n      instructorName: \"Mr. Williams\",\n      deviceType: \"HP Silver\",\n      deviceIpAddress: \"192.168.1.102\",\n      issueDescription: \"Keyboard keys not responding\",\n      issueType: \"hardware\",\n      issueCategory: \"hardware\",\n      status: \"resolved\",\n      createdAt: new Date(\"2024-11-10T00:00:00Z\"),\n      updatedAt: new Date(\"2024-11-13T00:00:00Z\"),\n      estimatedRepairTime: \"1 day\",\n      priority: \"medium\",\n      notes: \"Device ready for pickup\",\n      internalNotes: \"Keyboard replaced successfully\",\n      isExternal: false,\n    },\n    {\n      id: \"TKT-004\",\n      studentId: \"STU-004\",\n      studentName: \"Emma Davis\",\n      studentEmail: \"emma.davis@school.edu\",\n      department: \"CS\",\n      year: \"senior\",\n      classYear: \"Senior 2\",\n      instructorName: \"Dr. Brown\",\n      deviceType: \"HP Zbook G3\",\n      deviceIpAddress: \"192.168.1.103\",\n      issueDescription: \"Software crashes frequently\",\n      issueType: \"software\",\n      issueCategory: \"software\",\n      status: \"closed\",\n      createdAt: new Date(\"2024-11-08T00:00:00Z\"),\n      updatedAt: new Date(\"2024-11-12T00:00:00Z\"),\n      estimatedRepairTime: \"2 hours\",\n      priority: \"high\",\n      notes: \"Issue resolved, software reinstalled\",\n      internalNotes: \"Corrupted installation, clean reinstall fixed it\",\n      isExternal: false,\n    },\n  ]\n\n  saveTickets()\n}\n\nconst saveTickets = () => {\n  if (typeof window !== \"undefined\") {\n    mockTickets.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n    localStorage.setItem(\"tickets\", JSON.stringify(mockTickets))\n  }\n}\n\nexport function getTickets(): Ticket[] {\n  if (typeof window === \"undefined\") return []\n  initializeTickets()\n  return [...mockTickets].sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n}\n\nexport function getTicketById(id: string): Ticket | undefined {\n  if (typeof window === \"undefined\") return undefined\n  initializeTickets()\n  return mockTickets.find((ticket) => ticket.id === id)\n}\n\nexport function getStudentTickets(studentId: string): Ticket[] {\n  if (typeof window === \"undefined\") return []\n  initializeTickets()\n  return mockTickets.filter((ticket) => ticket.studentId === studentId)\n}\n\nexport function updateTicket(id: string, updates: Partial<Ticket>): Ticket | undefined {\n  initializeTickets()\n  const index = mockTickets.findIndex((ticket) => ticket.id === id)\n  if (index === -1) return undefined\n\n  mockTickets[index] = {\n    ...mockTickets[index],\n    ...updates,\n    updatedAt: new Date(),\n  }\n  saveTickets()\n  return mockTickets[index]\n}\n\nexport function createTicket(ticket: Omit<Ticket, \"id\" | \"createdAt\" | \"updatedAt\">): Ticket {\n  initializeTickets()\n  const newTicket: Ticket = {\n    ...ticket,\n    id: `TKT-${String(mockTickets.length + 1).padStart(3, \"0\")}`,\n    createdAt: new Date(),\n    updatedAt: new Date(),\n  }\n  mockTickets.push(newTicket)\n  saveTickets()\n\n  if (typeof window !== \"undefined\") {\n    try {\n      showNotification(\"New Support Ticket\", `${newTicket.studentName} submitted a ${newTicket.issueCategory} issue`)\n    } catch (e) {\n      console.log(\"Notification error:\", e)\n    }\n  }\n\n  return newTicket\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AACA;;AAEA,IAAI,cAAwB,EAAE;AAE9B,+DAA+D;AAC/D,MAAM,qBAAqB,IAAI,KAAK;AACpC,MAAM,cAAc,KAAK,KAAK;AAE9B,MAAM,oBAAoB;IACxB,wCAAmC;QACjC;IACF;;;IAEA,MAAM;AAmHR;AAEA,MAAM,cAAc;IAClB;;AAIF;AAEO,SAAS;IACd,wCAAmC,OAAO,EAAE;;;AAG9C;AAEO,SAAS,cAAc,EAAU;IACtC,wCAAmC,OAAO;;;AAG5C;AAEO,SAAS,kBAAkB,SAAiB;IACjD,wCAAmC,OAAO,EAAE;;;AAG9C;AAEO,SAAS,aAAa,EAAU,EAAE,OAAwB;IAC/D;IACA,MAAM,QAAQ,YAAY,SAAS,CAAC,CAAC,SAAW,OAAO,EAAE,KAAK;IAC9D,IAAI,UAAU,CAAC,GAAG,OAAO;IAEzB,WAAW,CAAC,MAAM,GAAG;QACnB,GAAG,WAAW,CAAC,MAAM;QACrB,GAAG,OAAO;QACV,WAAW,IAAI;IACjB;IACA;IACA,OAAO,WAAW,CAAC,MAAM;AAC3B;AAEO,SAAS,aAAa,MAAsD;IACjF;IACA,MAAM,YAAoB;QACxB,GAAG,MAAM;QACT,IAAI,CAAC,IAAI,EAAE,OAAO,YAAY,MAAM,GAAG,GAAG,QAAQ,CAAC,GAAG,MAAM;QAC5D,WAAW,IAAI;QACf,WAAW,IAAI;IACjB;IACA,YAAY,IAAI,CAAC;IACjB;IAEA;;IAQA,OAAO;AACT"}},
    {"offset": {"line": 370, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8YAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kJAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,8YAAC,sTAAmB;QAClB,aAAU;QACV,WAAW,IAAA,kJAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 422, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,8YAAC;QACC,aAAU;QACV,WAAW,IAAA,kJAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 446, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/components/ui/dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn('text-lg leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,8YAAC,uTAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,8YAAC,0TAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,8YAAC,yTAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8YAAC,wTAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,8YAAC,0TAAuB;QACtB,aAAU;QACV,WAAW,IAAA,kJAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,8YAAC;QAAa,aAAU;;0BACtB,8YAAC;;;;;0BACD,8YAAC,0TAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,kJAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,8YAAC,wTAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,8YAAC,6TAAK;;;;;0CACN,8YAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,8YAAC;QACC,aAAU;QACV,WAAW,IAAA,kJAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,8YAAC;QACC,aAAU;QACV,WAAW,IAAA,kJAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8YAAC,wTAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,8YAAC,8TAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,kJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 628, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/components/ui/checkbox.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox'\nimport { CheckIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        'peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"flex items-center justify-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,8YAAC,sTAAsB;QACrB,aAAU;QACV,WAAW,IAAA,kJAAE,EACX,+eACA;QAED,GAAG,KAAK;kBAET,cAAA,8YAAC,2TAA2B;YAC1B,aAAU;YACV,WAAU;sBAEV,cAAA,8YAAC,yUAAS;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI7B"}},
    {"offset": {"line": 672, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/lib/celebration.ts"],"sourcesContent":["export function triggerCelebration() {\n  // Create container for video - transparent, no backdrop\n  const container = document.createElement(\"div\")\n  container.className = \"fixed inset-0 pointer-events-none z-[100]\"\n  container.style.backgroundColor = \"transparent\"\n  document.body.appendChild(container)\n\n  // Create video element - fullscreen\n  const video = document.createElement(\"video\")\n  video.src = \"/chroma-keyed-video (1).webm\"\n  video.autoplay = true\n  video.muted = false\n  video.loop = false\n  video.playsInline = true\n  video.style.width = \"100%\"\n  video.style.height = \"100%\"\n  video.style.objectFit = \"cover\"\n  video.style.pointerEvents = \"none\"\n\n  // Play the video\n  video.play().catch((err) => {\n    console.error(\"Failed to play celebration video:\", err)\n    // Try with muted if autoplay fails\n    video.muted = true\n    video.play().catch((e) => {\n      console.error(\"Failed to play muted video:\", e)\n      if (container.parentNode) {\n        document.body.removeChild(container)\n      }\n    })\n  })\n\n  // Remove container when video ends\n  video.addEventListener(\"ended\", () => {\n    if (container.parentNode) {\n      document.body.removeChild(container)\n    }\n  })\n\n  // Handle video errors\n  video.addEventListener(\"error\", (e) => {\n    console.error(\"Failed to load celebration video:\", e)\n    if (container.parentNode) {\n      document.body.removeChild(container)\n    }\n  })\n\n  // Handle video load\n  video.addEventListener(\"loadeddata\", () => {\n    console.log(\"Celebration video loaded successfully\")\n  })\n\n  container.appendChild(video)\n\n  // Fallback: remove after 15 seconds if video doesn't end properly\n  setTimeout(() => {\n    if (container.parentNode) {\n      document.body.removeChild(container)\n    }\n  }, 15000)\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS;IACd,wDAAwD;IACxD,MAAM,YAAY,SAAS,aAAa,CAAC;IACzC,UAAU,SAAS,GAAG;IACtB,UAAU,KAAK,CAAC,eAAe,GAAG;IAClC,SAAS,IAAI,CAAC,WAAW,CAAC;IAE1B,oCAAoC;IACpC,MAAM,QAAQ,SAAS,aAAa,CAAC;IACrC,MAAM,GAAG,GAAG;IACZ,MAAM,QAAQ,GAAG;IACjB,MAAM,KAAK,GAAG;IACd,MAAM,IAAI,GAAG;IACb,MAAM,WAAW,GAAG;IACpB,MAAM,KAAK,CAAC,KAAK,GAAG;IACpB,MAAM,KAAK,CAAC,MAAM,GAAG;IACrB,MAAM,KAAK,CAAC,SAAS,GAAG;IACxB,MAAM,KAAK,CAAC,aAAa,GAAG;IAE5B,iBAAiB;IACjB,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC;QAClB,QAAQ,KAAK,CAAC,qCAAqC;QACnD,mCAAmC;QACnC,MAAM,KAAK,GAAG;QACd,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC;YAClB,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,IAAI,UAAU,UAAU,EAAE;gBACxB,SAAS,IAAI,CAAC,WAAW,CAAC;YAC5B;QACF;IACF;IAEA,mCAAmC;IACnC,MAAM,gBAAgB,CAAC,SAAS;QAC9B,IAAI,UAAU,UAAU,EAAE;YACxB,SAAS,IAAI,CAAC,WAAW,CAAC;QAC5B;IACF;IAEA,sBAAsB;IACtB,MAAM,gBAAgB,CAAC,SAAS,CAAC;QAC/B,QAAQ,KAAK,CAAC,qCAAqC;QACnD,IAAI,UAAU,UAAU,EAAE;YACxB,SAAS,IAAI,CAAC,WAAW,CAAC;QAC5B;IACF;IAEA,oBAAoB;IACpB,MAAM,gBAAgB,CAAC,cAAc;QACnC,QAAQ,GAAG,CAAC;IACd;IAEA,UAAU,WAAW,CAAC;IAEtB,kEAAkE;IAClE,WAAW;QACT,IAAI,UAAU,UAAU,EAAE;YACxB,SAAS,IAAI,CAAC,WAAW,CAAC;QAC5B;IACF,GAAG;AACL"}},
    {"offset": {"line": 734, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/components/it/update-ticket-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport type { Ticket, TicketStatus, Priority, Engineer } from \"@/lib/types\"\nimport { updateTicket } from \"@/lib/ticket-data\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from \"@/components/ui/dialog\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { Upload, Check, CheckCircle, X, FileText } from \"lucide-react\"\nimport { triggerCelebration } from \"@/lib/celebration\"\n\ninterface UpdateTicketModalProps {\n  ticket: Ticket\n  isOpen: boolean\n  onClose: () => void\n  onUpdate: (updatedTicket: Ticket) => void\n}\n\nconst STATUSES: TicketStatus[] = [\"open\", \"assigned\", \"in-progress\", \"waiting-external\", \"resolved\", \"closed\"]\nconst PRIORITIES: Priority[] = [\"low\", \"medium\", \"high\", \"critical\"]\nconst ENGINEERS = [\n  { id: \"eng-khalid\", name: \"Eng Khalid\" },\n  { id: \"eng-essam\", name: \"Eng Essam\" },\n]\n\nexport default function UpdateTicketModal({ ticket, isOpen, onClose, onUpdate }: UpdateTicketModalProps) {\n  const [status, setStatus] = useState(ticket.status)\n  const [priority, setPriority] = useState(ticket.priority || \"medium\")\n  const [estimatedTime, setEstimatedTime] = useState(ticket.estimatedRepairTime || \"\")\n  const [internalNotes, setInternalNotes] = useState(ticket.internalNotes || \"\")\n  const [notes, setNotes] = useState(ticket.notes || \"\")\n  const [isExternal, setIsExternal] = useState(ticket.isExternal)\n  const [externalCompany, setExternalCompany] = useState(ticket.externalRepairCompany || \"\")\n  const [trackingNumber, setTrackingNumber] = useState(ticket.externalTrackingNumber || \"\")\n  const [assignedEngineer, setAssignedEngineer] = useState(ticket.assignedEngineer || \"\")\n  const [reportFile, setReportFile] = useState<File | null>(null)\n  const [loading, setLoading] = useState(false)\n  const [dragActive, setDragActive] = useState(false)\n  const [showSuccess, setShowSuccess] = useState(false)\n  const [dragCounter, setDragCounter] = useState(0)\n\n  const handleDragEnter = (e: React.DragEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setDragCounter((prev) => prev + 1)\n    if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n      setDragActive(true)\n    }\n  }\n\n  const handleDragLeave = (e: React.DragEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setDragCounter((prev) => {\n      const newCount = prev - 1\n      if (newCount === 0) {\n        setDragActive(false)\n      }\n      return newCount\n    })\n  }\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n      e.dataTransfer.dropEffect = \"copy\"\n    }\n  }\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setDragActive(false)\n    setDragCounter(0)\n    \n    const files = e.dataTransfer.files\n    if (files && files.length > 0) {\n      const file = files[0]\n      if (file.type === \"text/csv\" || file.name.endsWith(\".csv\")) {\n        setReportFile(file)\n      } else {\n        alert(\"Please upload a CSV file only\")\n      }\n    }\n  }\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (file) {\n      if (file.type === \"text/csv\" || file.name.endsWith(\".csv\")) {\n        setReportFile(file)\n      } else {\n        alert(\"Please upload a CSV file only\")\n        e.target.value = \"\"\n      }\n    }\n  }\n\n  const handleRemoveFile = () => {\n    setReportFile(null)\n    const input = document.getElementById(\"report-file\") as HTMLInputElement\n    if (input) {\n      input.value = \"\"\n    }\n  }\n\n  const handleSave = async () => {\n    setLoading(true)\n    try {\n      let fileData = ticket.reportFile\n      if (reportFile) {\n        const text = await reportFile.text()\n        fileData = {\n          name: reportFile.name,\n          data: text,\n          uploadedAt: new Date(),\n        }\n      }\n\n      const updated = updateTicket(ticket.id, {\n        status,\n        priority,\n        estimatedRepairTime: estimatedTime,\n        internalNotes,\n        notes,\n        isExternal,\n        externalRepairCompany: isExternal ? externalCompany : undefined,\n        externalTrackingNumber: isExternal ? trackingNumber : undefined,\n        assignedEngineer: assignedEngineer as Engineer,\n        reportFile: fileData,\n      })\n\n      if (updated) {\n        setShowSuccess(true)\n\n        if ((status === \"closed\" || status === \"resolved\") && ticket.status !== status) {\n          triggerCelebration()\n        }\n\n        setTimeout(() => {\n          onUpdate(updated)\n          setShowSuccess(false)\n          onClose()\n        }, 1500)\n      }\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto rounded-2xl border-2 border-border shadow-2xl animate-fade-in-scale\">\n        {showSuccess && (\n          <div className=\"fixed inset-0 flex items-center justify-center z-50 pointer-events-none animate-fade-in\">\n            <div className=\"bg-card border-2 border-primary rounded-2xl shadow-2xl p-8 flex items-center gap-4 animate-bounce-in\">\n              <div className=\"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center\">\n                <CheckCircle className=\"w-10 h-10 text-primary\" />\n              </div>\n              <div>\n                <h3 className=\"text-xl font-bold text-foreground\">Updated Successfully!</h3>\n                <p className=\"text-sm text-muted-foreground\">Ticket changes saved</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <DialogHeader className=\"border-b border-border pb-4\">\n          <DialogTitle className=\"text-2xl font-bold text-foreground\">Update Ticket {ticket.id}</DialogTitle>\n          <DialogDescription className=\"text-sm text-muted-foreground\">\n            Modify ticket details and communicate with students\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-8 py-4 pr-4\">\n          {/* Status & Priority Section */}\n          <div className=\"space-y-4 animate-fade-in\">\n            <h3 className=\"font-bold text-foreground flex items-center gap-2\">\n              <span className=\"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-primary/70 text-primary-foreground text-sm flex items-center justify-center font-bold shadow-lg\">\n                1\n              </span>\n              Status & Priority\n            </h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 bg-muted/30 p-5 rounded-xl border border-border/50\">\n              <div>\n                <Label className=\"text-sm font-semibold text-foreground block mb-2\">Status</Label>\n                <select\n                  value={status}\n                  onChange={(e) => setStatus(e.target.value as TicketStatus)}\n                  className=\"select-modern w-full\"\n                >\n                  {STATUSES.map((s) => (\n                    <option key={s} value={s}>\n                      {s.replace(\"-\", \" \").charAt(0).toUpperCase() + s.replace(\"-\", \" \").slice(1)}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              <div>\n                <Label className=\"text-sm font-semibold text-foreground block mb-2\">Priority</Label>\n                <select\n                  value={priority}\n                  onChange={(e) => setPriority(e.target.value as Priority)}\n                  className=\"select-modern w-full\"\n                >\n                  {PRIORITIES.map((p) => (\n                    <option key={p} value={p}>\n                      {p.charAt(0).toUpperCase() + p.slice(1)}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              <div>\n                <Label className=\"text-sm font-semibold text-foreground block mb-2\">Assign To</Label>\n                <select\n                  value={assignedEngineer}\n                  onChange={(e) => setAssignedEngineer(e.target.value)}\n                  className=\"select-modern w-full\"\n                >\n                  <option value=\"\">Select Engineer</option>\n                  {ENGINEERS.map((eng) => (\n                    <option key={eng.id} value={eng.id}>\n                      {eng.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n          </div>\n\n          {/* Repair Details Section */}\n          <div className=\"space-y-4 pt-4 border-t-2 border-border/50\">\n            <h3 className=\"font-bold text-foreground flex items-center gap-2\">\n              <span className=\"w-8 h-8 rounded-full bg-gradient-to-br from-secondary to-secondary/70 text-secondary-foreground text-sm flex items-center justify-center font-bold shadow-lg\">\n                2\n              </span>\n              Repair Information\n            </h3>\n            <div className=\"bg-muted/30 p-5 rounded-xl border border-border/50\">\n              <Label className=\"text-sm font-semibold text-foreground block mb-2\">Estimated Repair Time</Label>\n              <Input\n                placeholder=\"e.g., 1-2 days, 3 hours\"\n                value={estimatedTime}\n                onChange={(e) => setEstimatedTime(e.target.value)}\n                className=\"input-modern\"\n              />\n            </div>\n          </div>\n\n          {/* Notes Section */}\n          <div className=\"space-y-4 pt-4 border-t-2 border-border/50\">\n            <h3 className=\"font-bold text-foreground flex items-center gap-2\">\n              <span className=\"w-8 h-8 rounded-full bg-gradient-to-br from-accent to-accent/70 text-accent-foreground text-sm flex items-center justify-center font-bold shadow-lg\">\n                3\n              </span>\n              Notes & Communication\n            </h3>\n            <div className=\"space-y-4\">\n              <div>\n                <Label className=\"text-sm font-semibold text-foreground block mb-2\">Message for Student</Label>\n                <Textarea\n                  placeholder=\"Visible to student - Use for status updates, next steps, or pickup instructions\"\n                  value={notes}\n                  onChange={(e) => setNotes(e.target.value)}\n                  rows={3}\n                  className=\"textarea-modern\"\n                />\n              </div>\n              <div>\n                <Label className=\"text-sm font-semibold text-foreground block mb-2\">Internal IT Notes</Label>\n                <Textarea\n                  placeholder=\"Only visible to IT staff - Diagnosis, parts needed, troubleshooting steps\"\n                  value={internalNotes}\n                  onChange={(e) => setInternalNotes(e.target.value)}\n                  rows={3}\n                  className=\"textarea-modern\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* File Upload Section */}\n          <div className=\"space-y-4 pt-4 border-t-2 border-border/50\">\n            <h3 className=\"font-bold text-foreground flex items-center gap-2\">\n              <span className=\"w-8 h-8 rounded-full bg-gradient-to-br from-primary/80 to-primary/60 text-primary-foreground text-sm flex items-center justify-center font-bold shadow-lg\">\n                4\n              </span>\n              Report Upload\n            </h3>\n            <div\n              className={`upload-zone ${dragActive ? \"active\" : \"\"}`}\n              onDragEnter={handleDragEnter}\n              onDragLeave={handleDragLeave}\n              onDragOver={handleDragOver}\n              onDrop={handleDrop}\n            >\n              <input id=\"report-file\" type=\"file\" accept=\".csv\" onChange={handleFileChange} className=\"hidden\" />\n              {reportFile || ticket.reportFile ? (\n                <div className=\"flex items-center justify-between gap-3 w-full\">\n                  <div className=\"flex items-center gap-3 flex-1\">\n                    <FileText className=\"w-7 h-7 text-primary\" />\n                    <div className=\"text-left flex-1\">\n                      <p className=\"font-semibold text-foreground text-lg\">\n                        {reportFile ? reportFile.name : ticket.reportFile?.name}\n                      </p>\n                      <p className=\"text-sm text-muted-foreground\">\n                        {reportFile ? \"Ready to upload\" : \"Current report file\"}\n                      </p>\n                    </div>\n                  </div>\n                  {reportFile && (\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={handleRemoveFile}\n                      className=\"text-destructive hover:text-destructive hover:bg-destructive/10\"\n                    >\n                      <X className=\"w-4 h-4\" />\n                    </Button>\n                  )}\n                </div>\n              ) : (\n                <label htmlFor=\"report-file\" className=\"cursor-pointer w-full\">\n                  <div className=\"flex flex-col items-center gap-3\">\n                    <Upload className=\"w-10 h-10 text-muted-foreground\" />\n                    <p className=\"text-foreground font-medium text-lg\">\n                      Drag and drop CSV here or <span className=\"text-primary font-bold\">Browse</span>\n                    </p>\n                    <p className=\"text-sm text-muted-foreground\">CSV format only</p>\n                  </div>\n                </label>\n              )}\n            </div>\n            {ticket.reportFile && !reportFile && (\n              <div className=\"mt-2 p-3 bg-muted/50 rounded-lg border border-border flex items-center justify-between\">\n                <div className=\"flex items-center gap-2\">\n                  <FileText className=\"w-4 h-4 text-muted-foreground\" />\n                  <span className=\"text-sm text-foreground\">{ticket.reportFile.name}</span>\n                </div>\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  onClick={() => {\n                    if (ticket.reportFile) {\n                      const element = document.createElement(\"a\")\n                      element.setAttribute(\n                        \"href\",\n                        \"data:text/csv;charset=utf-8,\" + encodeURIComponent(ticket.reportFile.data)\n                      )\n                      element.setAttribute(\"download\", ticket.reportFile.name)\n                      element.style.display = \"none\"\n                      document.body.appendChild(element)\n                      element.click()\n                      document.body.removeChild(element)\n                    }\n                  }}\n                  className=\"gap-2\"\n                >\n                  <Check className=\"w-4 h-4\" />\n                  Download Current\n                </Button>\n              </div>\n            )}\n          </div>\n\n          {/* External Repair Section */}\n          <div className=\"space-y-4 pt-4 border-t-2 border-border/50\">\n            <h3 className=\"font-bold text-foreground flex items-center gap-2\">\n              <span className=\"w-8 h-8 rounded-full bg-gradient-to-br from-secondary/80 to-secondary/60 text-secondary-foreground text-sm flex items-center justify-center font-bold shadow-lg\">\n                5\n              </span>\n              External Repair\n            </h3>\n            <div className=\"flex items-center gap-3 bg-muted/30 p-5 rounded-xl border border-border/50\">\n              <Checkbox\n                id=\"external\"\n                checked={isExternal}\n                onCheckedChange={(checked) => setIsExternal(checked as boolean)}\n              />\n              <Label htmlFor=\"external\" className=\"font-semibold text-foreground cursor-pointer flex-1\">\n                Send to External Repair Company\n              </Label>\n            </div>\n\n            {isExternal && (\n              <div className=\"space-y-4 p-5 bg-primary/5 rounded-xl border-2 border-primary/30 animate-fade-in\">\n                <div>\n                  <Label className=\"text-sm font-semibold text-foreground block mb-2\">Repair Company Name</Label>\n                  <Input\n                    placeholder=\"e.g., TechRepair Solutions\"\n                    value={externalCompany}\n                    onChange={(e) => setExternalCompany(e.target.value)}\n                    className=\"input-modern\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"text-sm font-semibold text-foreground block mb-2\">Tracking Number</Label>\n                  <Input\n                    placeholder=\"External tracking number\"\n                    value={trackingNumber}\n                    onChange={(e) => setTrackingNumber(e.target.value)}\n                    className=\"input-modern\"\n                  />\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <DialogFooter className=\"border-t-2 border-border pt-6 mt-6\">\n          <Button\n            variant=\"outline\"\n            onClick={onClose}\n            disabled={loading}\n            className=\"rounded-xl bg-transparent border-2 font-semibold\"\n          >\n            Cancel\n          </Button>\n          <Button\n            onClick={handleSave}\n            disabled={loading}\n            className=\"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-primary-foreground rounded-xl font-bold shadow-lg hover:shadow-xl transition-all\"\n          >\n            {loading ? \"Saving...\" : \"Save Changes\"}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1680, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/components/it/ticket-card.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useMemo } from \"react\"\nimport { Card, CardContent, CardHeader } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport type { Ticket, TicketStatus, Priority } from \"@/lib/types\"\nimport { ChevronDown, AlertCircle, Download } from \"lucide-react\"\nimport UpdateTicketModal from \"./update-ticket-modal\"\n\nconst statusConfig: Record<TicketStatus, { label: string; color: string }> = {\n  open: { label: \"Open\", color: \"bg-red-100 dark:bg-red-950/40 text-red-700 dark:text-red-400\" },\n  assigned: { label: \"Assigned\", color: \"bg-blue-100 dark:bg-blue-950/40 text-blue-700 dark:text-blue-400\" },\n  \"in-progress\": {\n    label: \"In Progress\",\n    color: \"bg-yellow-100 dark:bg-yellow-950/40 text-yellow-700 dark:text-yellow-400\",\n  },\n  \"waiting-external\": {\n    label: \"External Repair\",\n    color: \"bg-purple-100 dark:bg-purple-950/40 text-purple-700 dark:text-purple-400\",\n  },\n  resolved: { label: \"Resolved\", color: \"bg-green-100 dark:bg-green-950/40 text-green-700 dark:text-green-400\" },\n  closed: { label: \"Closed\", color: \"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-400\" },\n}\n\nconst priorityConfig: Record<Priority, { label: string; color: string }> = {\n  low: { label: \"Low\", color: \"bg-green-100 dark:bg-green-950/40 text-green-700 dark:text-green-400\" },\n  medium: { label: \"Medium\", color: \"bg-yellow-100 dark:bg-yellow-950/40 text-yellow-700 dark:text-yellow-400\" },\n  high: { label: \"High\", color: \"bg-orange-100 dark:bg-orange-950/40 text-orange-700 dark:text-orange-400\" },\n  critical: { label: \"Critical\", color: \"bg-red-100 dark:bg-red-950/40 text-red-700 dark:text-red-400\" },\n}\n\ninterface TicketCardProps {\n  ticket: Ticket\n  onUpdate: (updatedTicket: Ticket) => void\n}\n\nexport default function TicketCard({ ticket, onUpdate }: TicketCardProps) {\n  const [expanded, setExpanded] = useState(false)\n  const [showUpdateModal, setShowUpdateModal] = useState(false)\n\n  const isOverdue = useMemo(() => {\n    if (ticket.status !== \"open\") return false\n    const createdTime = new Date(ticket.createdAt).getTime()\n    const now = new Date().getTime()\n    const diffMinutes = (now - createdTime) / (1000 * 60)\n    return diffMinutes > 15\n  }, [ticket.status, ticket.createdAt])\n\n  const handleDownloadReport = () => {\n    if (!ticket.reportFile) return\n    const element = document.createElement(\"a\")\n    element.setAttribute(\"href\", \"data:text/csv;charset=utf-8,\" + encodeURIComponent(ticket.reportFile.data))\n    element.setAttribute(\"download\", ticket.reportFile.name)\n    element.style.display = \"none\"\n    document.body.appendChild(element)\n    element.click()\n    document.body.removeChild(element)\n  }\n\n  const status = statusConfig[ticket.status]\n  const priority = ticket.priority ? priorityConfig[ticket.priority] : null\n\n  return (\n    <>\n      <Card\n        className={`card-hover border ${isOverdue ? \"border-destructive/50 bg-destructive/5\" : \"border-border bg-card\"} overflow-hidden animate-fade-in`}\n      >\n        <div\n          className={`h-1 w-full ${isOverdue ? \"bg-destructive\" : \"bg-primary\"}`}\n          style={{ position: \"absolute\", top: 0, left: 0 }}\n        ></div>\n        <CardHeader\n          className=\"pb-3 cursor-pointer hover:bg-muted/50 transition-colors pt-5\"\n          onClick={() => setExpanded(!expanded)}\n        >\n          <div className=\"flex items-start justify-between gap-2\">\n            <div className=\"flex-1\">\n              <div className=\"flex items-center gap-3 mb-2 flex-wrap\">\n                <div className=\"px-3 py-1 bg-primary/10 rounded-lg\">\n                  <h3 className=\"font-semibold text-primary text-sm\">{ticket.id}</h3>\n                </div>\n                <Badge className={`${status.color} rounded-full font-medium`}>{status.label}</Badge>\n                {priority && <Badge className={`${priority.color} rounded-full font-medium`}>{priority.label}</Badge>}\n                {isOverdue && (\n                  <Badge className=\"bg-destructive text-destructive-foreground rounded-full flex items-center gap-1 font-medium\">\n                    <AlertCircle className=\"w-3 h-3\" /> Overdue\n                  </Badge>\n                )}\n              </div>\n              <p className=\"text-sm font-semibold text-foreground\">{ticket.studentName}</p>\n              <p className=\"text-xs text-muted-foreground\">{ticket.studentEmail}</p>\n            </div>\n            <ChevronDown\n              className={`w-5 h-5 text-muted-foreground transition-transform duration-200 ${expanded ? \"rotate-180\" : \"\"}`}\n            />\n          </div>\n        </CardHeader>\n\n        {expanded && (\n          <CardContent className=\"space-y-4 border-t border-border pt-4\">\n            {/* Device Info */}\n            <div className=\"space-y-2 p-3 bg-primary/5 rounded-lg border border-primary/10\">\n              <p className=\"text-xs font-semibold text-primary uppercase tracking-wide\">Device</p>\n              <p className=\"text-sm font-medium text-foreground\">{ticket.deviceType}</p>\n              <p className=\"text-xs text-muted-foreground\">IP Address: {ticket.deviceIpAddress}</p>\n            </div>\n\n            {/* Issue */}\n            <div className=\"space-y-2 p-3 bg-muted/50 rounded-lg border border-border\">\n              <p className=\"text-xs font-semibold text-foreground uppercase tracking-wide\">Issue Description</p>\n              <p className=\"text-sm text-foreground leading-relaxed\">\n                {ticket.issueDescription || \"No description provided\"}\n              </p>\n              <div className=\"flex gap-2 mt-2 flex-wrap\">\n                <Badge variant=\"outline\" className=\"text-xs capitalize\">\n                  {ticket.issueCategory}\n                </Badge>\n                <Badge variant=\"outline\" className=\"text-xs\">\n                  {ticket.department}\n                </Badge>\n              </div>\n            </div>\n\n            {/* Metadata */}\n            <div className=\"grid grid-cols-2 gap-3 text-sm\">\n              <div className=\"p-3 bg-muted/50 rounded-lg border border-border\">\n                <p className=\"text-xs text-muted-foreground uppercase tracking-wide font-semibold mb-1\">Submitted</p>\n                <p className=\"font-medium text-foreground\">{new Date(ticket.createdAt).toLocaleDateString()}</p>\n              </div>\n              <div className=\"p-3 bg-muted/50 rounded-lg border border-border\">\n                <p className=\"text-xs text-muted-foreground uppercase tracking-wide font-semibold mb-1\">Est. Time</p>\n                <p className=\"font-medium text-foreground\">{ticket.estimatedRepairTime || \"Not set\"}</p>\n              </div>\n            </div>\n\n            {/* Assigned Engineer */}\n            {ticket.assignedEngineer && (\n              <div className=\"space-y-2 p-3 bg-secondary/10 rounded-lg border border-secondary/20\">\n                <p className=\"text-xs font-semibold text-secondary-foreground uppercase tracking-wide\">\n                  Assigned Engineer\n                </p>\n                <p className=\"text-sm font-medium text-foreground\">\n                  {ticket.assignedEngineer.replace(\"-\", \" \").replace(/\\b\\w/g, (l) => l.toUpperCase())}\n                </p>\n              </div>\n            )}\n\n            {/* Instructor Name */}\n            {ticket.instructorName && (\n              <div className=\"space-y-2 p-3 bg-gradient-to-r from-blue-500/20 to-purple-500/20 border-2 border-blue-400/50 dark:border-blue-600/50 rounded-lg shadow-sm\">\n                <p className=\"text-xs font-bold text-blue-700 dark:text-blue-300 uppercase tracking-widest\">\n                  Student's Instructor\n                </p>\n                <p className=\"text-base font-bold text-blue-900 dark:text-blue-100\">{ticket.instructorName}</p>\n              </div>\n            )}\n\n            {/* IT Notes */}\n            {ticket.internalNotes && (\n              <div className=\"space-y-2 p-3 bg-gradient-to-r from-orange-500/20 to-amber-500/20 border-2 border-orange-400/50 dark:border-orange-600/50 rounded-lg shadow-sm\">\n                <p className=\"text-xs font-bold text-orange-700 dark:text-orange-300 uppercase tracking-wide flex items-center gap-2\">\n                  <span className=\"w-2 h-2 bg-orange-600 rounded-full animate-pulse\"></span>\n                  Internal Notes\n                </p>\n                <p className=\"text-sm text-orange-950 dark:text-orange-50 leading-relaxed font-medium\">\n                  {ticket.internalNotes}\n                </p>\n              </div>\n            )}\n\n            {/* Notes for Student */}\n            {ticket.notes && (\n              <div className=\"space-y-2 p-3 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 border-2 border-emerald-400/50 dark:border-emerald-600/50 rounded-lg shadow-sm\">\n                <p className=\"text-xs font-bold text-emerald-700 dark:text-emerald-300 uppercase tracking-wide flex items-center gap-2\">\n                  <span className=\"w-2 h-2 bg-emerald-600 rounded-full animate-pulse\"></span>\n                  Student Notes\n                </p>\n                <p className=\"text-sm text-emerald-950 dark:text-emerald-50 leading-relaxed font-medium\">\n                  {ticket.notes}\n                </p>\n              </div>\n            )}\n\n            {/* Report File */}\n            {ticket.reportFile && (\n              <div className=\"space-y-2 p-3 bg-secondary/10 rounded-lg border border-secondary/20\">\n                <p className=\"text-xs font-semibold text-secondary-foreground uppercase tracking-wide\">Report File</p>\n                <div className=\"flex items-center justify-between gap-2\">\n                  <span className=\"text-sm text-foreground truncate flex-1\" title={ticket.reportFile.name}>\n                    {ticket.reportFile.name}\n                  </span>\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline\"\n                    onClick={handleDownloadReport}\n                    className=\"gap-2 bg-transparent hover:bg-secondary/20 shrink-0\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    Download\n                  </Button>\n                </div>\n              </div>\n            )}\n\n            {/* External Repair Info */}\n            {ticket.isExternal && (\n              <div className=\"space-y-2 p-3 bg-orange-100 dark:bg-orange-950/30 rounded-lg border border-orange-200 dark:border-orange-900/50\">\n                <p className=\"text-xs font-semibold text-orange-900 dark:text-orange-300 uppercase tracking-wide\">\n                  External Repair\n                </p>\n                <p className=\"text-sm text-orange-900 dark:text-orange-100\">Company: {ticket.externalRepairCompany}</p>\n                {ticket.externalTrackingNumber && (\n                  <p className=\"text-sm text-orange-900 dark:text-orange-100\">\n                    Tracking: {ticket.externalTrackingNumber}\n                  </p>\n                )}\n              </div>\n            )}\n\n            {/* Update Button */}\n            <Button\n              onClick={() => setShowUpdateModal(true)}\n              className=\"w-full mt-4 bg-primary hover:bg-primary/90 text-primary-foreground font-medium rounded-lg h-10\"\n            >\n              Update Ticket\n            </Button>\n          </CardContent>\n        )}\n      </Card>\n\n      {/* Update Modal */}\n      <UpdateTicketModal\n        ticket={ticket}\n        isOpen={showUpdateModal}\n        onClose={() => setShowUpdateModal(false)}\n        onUpdate={onUpdate}\n      />\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2293, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/components/it/dashboard-overview.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { getTickets } from \"@/lib/ticket-data\"\nimport type { Ticket } from \"@/lib/types\"\nimport {\n  BarChart,\n  Bar,\n  PieChart,\n  Pie,\n  Cell,\n  ResponsiveContainer,\n  Tooltip,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Legend,\n} from \"recharts\"\n\nexport default function DashboardOverview() {\n  const [tickets, setTickets] = useState<Ticket[]>([])\n  const [refreshKey, setRefreshKey] = useState(0)\n  const [selectedCategory, setSelectedCategory] = useState<\"all\" | \"hardware\" | \"software\">(\"all\")\n\n  useEffect(() => {\n    setTickets(getTickets())\n    const interval = setInterval(() => {\n      setRefreshKey((prev) => prev + 1)\n      const allTickets = getTickets().sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n      setTickets(allTickets)\n    }, 5000)\n    return () => clearInterval(interval)\n  }, [refreshKey])\n\n  const filteredTickets =\n    selectedCategory === \"all\" ? tickets : tickets.filter((t) => t.issueCategory === selectedCategory)\n\n  const stats = {\n    total: filteredTickets.length,\n    open: filteredTickets.filter((t) => t.status === \"open\").length,\n    assigned: filteredTickets.filter((t) => t.status === \"assigned\").length,\n    inProgress: filteredTickets.filter((t) => t.status === \"in-progress\").length,\n    closed: filteredTickets.filter((t) => t.status === \"closed\").length,\n    resolved: filteredTickets.filter((t) => t.status === \"resolved\").length,\n    external: filteredTickets.filter((t) => t.isExternal).length,\n  }\n\n  const unassignedOverTime = filteredTickets.filter((t) => {\n    if (t.status !== \"open\") return false\n    const createdTime = new Date(t.createdAt).getTime()\n    const now = new Date().getTime()\n    const diffMinutes = (now - createdTime) / (1000 * 60)\n    return diffMinutes > 15\n  })\n\n  const statusChartData = [\n    { name: \"Open\", value: stats.open, fill: \"#ef4444\" },\n    { name: \"Assigned\", value: stats.assigned, fill: \"#3b82f6\" },\n    { name: \"In Progress\", value: stats.inProgress, fill: \"#eab308\" },\n    { name: \"Closed\", value: stats.closed, fill: \"#6b7280\" },\n    { name: \"Resolved\", value: stats.resolved, fill: \"#22c55e\" },\n  ].filter((item) => item.value > 0)\n\n  const hardwareCount = filteredTickets.filter((t) => t.issueCategory === \"hardware\").length\n  const softwareCount = filteredTickets.filter((t) => t.issueCategory === \"software\").length\n\n  const categoryData = [\n    { name: \"Hardware Issues\", value: hardwareCount, fill: \"#f59e0b\" },\n    { name: \"Software Issues\", value: softwareCount, fill: \"#06b6d4\" },\n  ].filter((item) => item.value > 0)\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Alert for overdue tickets */}\n      {unassignedOverTime.length > 0 && (\n        <div className=\"bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-900 rounded-lg p-4\">\n          <p className=\"text-red-900 dark:text-red-200 font-semibold\">\n            {unassignedOverTime.length} ticket(s) unassigned for over 15 minutes - Immediate action required!\n          </p>\n        </div>\n      )}\n\n      <div className=\"flex justify-end gap-2\"></div>\n\n      {/* Key Metrics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <Card className=\"border-blue-200 dark:border-blue-900 shadow-sm hover:shadow-md transition-shadow\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Total Tickets</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-blue-600\">{stats.total}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">All submissions</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-green-200 dark:border-green-900 shadow-sm hover:shadow-md transition-shadow\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Closed</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-green-600\">{stats.closed}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">Successfully resolved</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-yellow-200 dark:border-yellow-900 shadow-sm hover:shadow-md transition-shadow\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">In Progress</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-yellow-600\">{stats.inProgress}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">Currently being worked on</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-red-200 dark:border-red-900 shadow-sm hover:shadow-md transition-shadow\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Urgent</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-3xl font-bold text-red-600\">{stats.open}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">Awaiting assignment</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Charts */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <Card className=\"border-cyan-200 dark:border-cyan-900 shadow-md\">\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-lg font-semibold\">Ticket Status Distribution</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <PieChart>\n                <Pie\n                  data={statusChartData}\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  labelLine={false}\n                  label={({ name, value }) => `${name}: ${value}`}\n                  outerRadius={90}\n                  innerRadius={40}\n                  fill=\"#8884d8\"\n                  dataKey=\"value\"\n                >\n                  {statusChartData.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={entry.fill} />\n                  ))}\n                </Pie>\n                <Tooltip formatter={(value) => `${value} tickets`} />\n              </PieChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-cyan-200 dark:border-cyan-900 shadow-md\">\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-lg font-semibold\">Issue Categories</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <BarChart data={categoryData} margin={{ top: 20, right: 30, left: 0, bottom: 20 }}>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n                <XAxis dataKey=\"name\" tick={{ fill: \"#6b7280\" }} />\n                <YAxis tick={{ fill: \"#6b7280\" }} />\n                <Tooltip\n                  contentStyle={{ backgroundColor: \"#f3f4f6\", border: \"1px solid #e5e7eb\", borderRadius: \"8px\" }}\n                  formatter={(value) => `${value} tickets`}\n                />\n                <Legend wrapperStyle={{ paddingTop: \"20px\" }} />\n                <Bar dataKey=\"value\" fill=\"#06b6d4\" name=\"Count\" radius={[8, 8, 0, 0]} />\n              </BarChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Detailed Statistics Table */}\n      <Card className=\"border-cyan-200 dark:border-cyan-900 shadow-md\">\n        <CardHeader>\n          <CardTitle className=\"text-lg font-semibold\">Detailed Statistics</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center justify-between p-3 bg-gradient-to-r from-red-50 to-red-100 dark:from-red-950/40 dark:to-red-900/40 rounded-lg border border-red-200 dark:border-red-800\">\n                <span className=\"text-sm font-medium\">Open Tickets</span>\n                <Badge className=\"bg-red-100 text-red-800\">{stats.open}</Badge>\n              </div>\n              <div className=\"flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-950/40 dark:to-blue-900/40 rounded-lg border border-blue-200 dark:border-blue-800\">\n                <span className=\"text-sm font-medium\">Assigned</span>\n                <Badge className=\"bg-blue-100 text-blue-800\">{stats.assigned}</Badge>\n              </div>\n              <div className=\"flex items-center justify-between p-3 bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-950/40 dark:to-yellow-900/40 rounded-lg border border-yellow-200 dark:border-yellow-800\">\n                <span className=\"text-sm font-medium\">In Progress</span>\n                <Badge className=\"bg-yellow-100 text-yellow-800\">{stats.inProgress}</Badge>\n              </div>\n            </div>\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center justify-between p-3 bg-gradient-to-r from-green-50 to-green-100 dark:from-green-950/40 dark:to-green-900/40 rounded-lg border border-green-200 dark:border-green-800\">\n                <span className=\"text-sm font-medium\">Resolved</span>\n                <Badge className=\"bg-green-100 text-green-800\">{stats.resolved}</Badge>\n              </div>\n              <div className=\"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-950/40 dark:to-gray-900/40 rounded-lg border border-gray-200 dark:border-gray-800\">\n                <span className=\"text-sm font-medium\">Closed</span>\n                <Badge className=\"bg-gray-100 text-gray-800\">{stats.closed}</Badge>\n              </div>\n              <div className=\"flex items-center justify-between p-3 bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-950/40 dark:to-purple-900/40 rounded-lg border border-purple-200 dark:border-purple-800\">\n                <span className=\"text-sm font-medium\">External Repairs</span>\n                <Badge className=\"bg-purple-100 text-purple-800\">{stats.external}</Badge>\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3039, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/components/it/ticket-icon.tsx"],"sourcesContent":["import type React from \"react\"\nexport default function TicketIcon(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg\n      {...props}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M2 9a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V9z\" />\n      <path d=\"M9 9h6M9 13h6\" />\n    </svg>\n  )\n}\n"],"names":[],"mappings":";;;;;;AACe,SAAS,WAAW,KAAoC;IACrE,qBACE,8YAAC;QACE,GAAG,KAAK;QACT,OAAM;QACN,SAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAY;QACZ,eAAc;QACd,gBAAe;;0BAEf,8YAAC;gBAAK,GAAE;;;;;;0BACR,8YAAC;gBAAK,GAAE;;;;;;;;;;;;AAGd"}},
    {"offset": {"line": 3081, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/ITTickting%20Sys/app/it/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useMemo, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { LogOut, Zap, Bell } from \"lucide-react\"\nimport TicketCard from \"@/components/it/ticket-card\"\nimport DashboardOverview from \"@/components/it/dashboard-overview\"\nimport { getTickets } from \"@/lib/ticket-data\"\nimport type { Ticket } from \"@/lib/types\"\nimport TicketIcon from \"@/components/it/ticket-icon\"\nimport { requestNotificationPermission } from \"@/lib/notification\"\n\nexport default function ITDashboard() {\n  const [tickets, setTickets] = useState<Ticket[]>([])\n  const [activeTab, setActiveTab] = useState(\"overview\")\n  const [categoryFilter, setCategoryFilter] = useState<\"all\" | \"software\" | \"hardware\">(\"all\")\n  const [refreshKey, setRefreshKey] = useState(0)\n  const [hasNotificationPermission, setHasNotificationPermission] = useState(false)\n  const [showNotificationPrompt, setShowNotificationPrompt] = useState(true)\n\n  useEffect(() => {\n    setTickets(getTickets())\n    const interval = setInterval(() => setRefreshKey((prev) => prev + 1), 5000)\n    return () => clearInterval(interval)\n  }, [refreshKey])\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\" && \"Notification\" in window) {\n      setHasNotificationPermission(Notification.permission === \"granted\")\n      if (Notification.permission === \"granted\") {\n        setShowNotificationPrompt(false)\n      }\n    }\n  }, [])\n\n  const handleEnableNotifications = async () => {\n    const granted = await requestNotificationPermission()\n    setHasNotificationPermission(granted)\n    setShowNotificationPrompt(false)\n  }\n\n  const filteredTickets = useMemo(() => {\n    let allTickets = getTickets()\n\n    if (activeTab !== \"overview\") {\n      allTickets = allTickets.filter((t) => {\n        if (categoryFilter === \"software\") return t.issueCategory === \"software\"\n        if (categoryFilter === \"hardware\") return t.issueCategory === \"hardware\"\n        return true\n      })\n    }\n\n    if (activeTab === \"all\") return allTickets\n    if (activeTab === \"overview\") return allTickets\n    return allTickets.filter((t) => t.status === activeTab)\n  }, [activeTab, categoryFilter, refreshKey])\n\n  const handleTicketUpdate = () => {\n    setRefreshKey((prev) => prev + 1)\n  }\n\n  const handleLogout = () => {\n    window.location.href = \"/\"\n  }\n\n  const statusCounts = useMemo(() => {\n    const all = getTickets()\n    return {\n      all: all.length,\n      open: all.filter((t) => t.status === \"open\").length,\n      assigned: all.filter((t) => t.status === \"assigned\").length,\n      \"in-progress\": all.filter((t) => t.status === \"in-progress\").length,\n      \"waiting-external\": all.filter((t) => t.status === \"waiting-external\").length,\n      resolved: all.filter((t) => t.status === \"resolved\").length,\n      closed: all.filter((t) => t.status === \"closed\").length,\n    }\n  }, [refreshKey])\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <header className=\"sticky top-0 z-50 bg-card border-b border-border\">\n        <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex items-center justify-between gap-4\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-foreground\">IT Dashboard</h1>\n              <p className=\"text-xs text-muted-foreground mt-0.5\">Manage support requests</p>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              {showNotificationPrompt && typeof window !== \"undefined\" && \"Notification\" in window && (\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={handleEnableNotifications}\n                  className=\"gap-2 hover:bg-primary/10 rounded-lg bg-transparent\"\n                >\n                  <Bell className=\"w-4 h-4\" />\n                  <span className=\"hidden sm:inline\">Notifications</span>\n                </Button>\n              )}\n              {hasNotificationPermission && (\n                <div className=\"flex items-center gap-2 px-2.5 py-1 bg-primary/10 rounded-lg\">\n                  <Bell className=\"w-3.5 h-3.5 text-primary\" />\n                  <span className=\"text-xs font-medium text-primary hidden sm:inline\">On</span>\n                </div>\n              )}\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleLogout}\n                className=\"gap-2 hover:bg-destructive/10 hover:text-destructive rounded-lg\"\n              >\n                <LogOut className=\"w-4 h-4\" />\n                <span className=\"hidden sm:inline\">Logout</span>\n              </Button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"mb-8 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 flex-wrap\">\n          <div className=\"bg-card rounded-lg p-1.5 border border-border inline-flex gap-1 overflow-x-auto flex-wrap shadow-sm\">\n            {[\n              { id: \"overview\", label: \"Overview\", icon: Zap },\n              { id: \"all\", label: `All (${statusCounts.all})` },\n              { id: \"open\", label: `Open (${statusCounts.open})` },\n              { id: \"assigned\", label: `Assigned (${statusCounts.assigned})` },\n              { id: \"in-progress\", label: `In Progress (${statusCounts[\"in-progress\"]})` },\n            ].map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={`px-4 py-2 rounded-md transition-all duration-200 whitespace-nowrap font-medium text-sm flex items-center gap-2 ${\n                  activeTab === tab.id\n                    ? \"bg-primary text-primary-foreground shadow-sm\"\n                    : \"text-muted-foreground hover:text-foreground hover:bg-muted\"\n                }`}\n              >\n                {tab.id === \"overview\" && <Zap className=\"w-4 h-4\" />}\n                {tab.label}\n              </button>\n            ))}\n          </div>\n\n          {activeTab !== \"overview\" && (\n            <select\n              value={categoryFilter}\n              onChange={(e) => setCategoryFilter(e.target.value as \"all\" | \"software\" | \"hardware\")}\n              className=\"select-modern\"\n            >\n              <option value=\"all\">All Categories</option>\n              <option value=\"software\">Software Issues</option>\n              <option value=\"hardware\">Hardware Issues</option>\n            </select>\n          )}\n        </div>\n\n        {activeTab === \"overview\" ? (\n          <div className=\"animate-fade-in\">\n            <DashboardOverview />\n          </div>\n        ) : (\n          <div className=\"space-y-4 animate-fade-in\">\n            {filteredTickets.length === 0 ? (\n              <div className=\"text-center py-16 bg-card rounded-lg border border-border\">\n                <div className=\"inline-flex items-center justify-center w-14 h-14 bg-muted rounded-full mb-4\">\n                  <TicketIcon className=\"w-6 h-6 text-muted-foreground\" />\n                </div>\n                <p className=\"text-foreground text-lg font-medium\">No tickets in this category</p>\n                <p className=\"text-muted-foreground text-sm mt-1\">Check back soon for new support requests</p>\n              </div>\n            ) : (\n              filteredTickets.map((ticket) => (\n                <TicketCard key={ticket.id} ticket={ticket} onUpdate={handleTicketUpdate} />\n              ))\n            )}\n          </div>\n        )}\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}